# 결제 & 플랜

> bkend의 요금제와 결제 관리 방법을 안내합니다.

## 개요

bkend는 4가지 요금제를 제공합니다. Organization 단위로 플랜이 적용되며, 플랜에 따라 사용 가능한 기능과 한도가 달라집니다.

---

## 요금제 비교

| 항목 | Free | Starter | Growth | Enterprise |
|------|------|---------|--------|-----------|
| **대상** | MVP/프로토타입 | 스타트업 초기 | 스케일업 | 대기업 |
| **환경** | dev 1개 | dev/staging/prod 3개 | 최대 10개 | 무제한 |
| **API 호출 (월)** | 10,000 | 100,000 | 1,000,000 | 무제한 |
| **저장소** | 1 GB | 10 GB | 100 GB | 무제한 |
| **MAU** | 1,000 | 10,000 | 100,000 | 무제한 |
| **대역폭 (월)** | 5 GB | 50 GB | 500 GB | 무제한 |
| **프로젝트** | 제한 | 제한 | 확장 | 무제한 |
| **커스텀 도메인** | - | - | ✅ | ✅ |
| **Webhook** | - | ✅ | ✅ | ✅ |
| **SSO** | - | - | - | ✅ |
| **우선 지원** | - | - | - | ✅ |
| **고급 분석** | - | - | ✅ | ✅ |

---

## 플랜별 기능 상세

### Free 플랜

- 개발과 프로토타입 제작에 적합합니다.
- dev 환경 1개만 사용할 수 있습니다.
- 30일 미사용 시 환경이 자동 Shutdown됩니다.

### Starter 플랜

- 스타트업 초기 단계에 적합합니다.
- dev, staging, prod 환경을 모두 사용할 수 있습니다.
- Webhook 기능을 사용할 수 있습니다.

### Growth 플랜

- 서비스를 확장하는 단계에 적합합니다.
- 최대 10개 환경과 custom 환경을 사용할 수 있습니다.
- 커스텀 도메인과 고급 분석 기능을 사용할 수 있습니다.

### Enterprise 플랜

- 대규모 서비스 운영에 적합합니다.
- 모든 기능과 무제한 리소스를 사용할 수 있습니다.
- SSO, 우선 지원 등 엔터프라이즈 기능이 포함됩니다.

---

## 플랜 확인하기

콘솔에서 현재 플랜을 확인하는 방법입니다.

1. Organization의 **설정** 페이지로 이동하세요.
2. **General** 탭에서 현재 플랜 배지를 확인하세요.

---

## 플랜 변경하기

### 업그레이드

플랜을 업그레이드하면 즉시 적용됩니다.

```mermaid
flowchart LR
    A[현재 플랜] --> B[상위 플랜 선택]
    B --> C[결제 정보 확인]
    C --> D[즉시 적용]
```

### 다운그레이드

플랜을 다운그레이드하면 현재 청구 주기가 끝난 후 적용됩니다.

```mermaid
flowchart LR
    A[현재 플랜] --> B[하위 플랜 선택]
    B --> C[현재 주기 유지]
    C --> D[주기 종료 후 적용]
```

> ⚠️ **주의** - 다운그레이드 시 현재 사용량이 하위 플랜의 한도를 초과하는지 확인하세요. 초과하는 경우 다운그레이드가 제한될 수 있습니다.

---

## Organization 설정

### 플랜별 설정 항목

| 설정 | 설명 |
|------|------|
| `maxProjects` | 프로젝트 최대 생성 수 |
| `apiCallLimit` | 월별 API 호출 한도 |
| `storageLimit` | 저장소 용량 한도 |
| `maxEndusers` | 최대 User 수 |
| `customDomainEnabled` | 커스텀 도메인 사용 가능 여부 |
| `webhookEnabled` | Webhook 사용 가능 여부 |
| `ssoEnabled` | SSO 사용 가능 여부 |
| `advancedAnalyticsEnabled` | 고급 분석 사용 가능 여부 |
| `prioritySupportEnabled` | 우선 지원 사용 가능 여부 |

---

## Organization 상태

| 상태 | 설명 |
|------|------|
| `active` | 정상 운영 중 |
| `suspended` | 일시 정지 (결제 문제 또는 정책 위반) |
| `deleted` | 삭제됨 |

> ⚠️ **주의** - `suspended` 상태에서는 API 호출이 제한됩니다. 결제 정보를 확인하고 문제를 해결하세요.

---

## 결제 관련 역할

결제 정보는 **Owner**와 **Billing** 역할만 관리할 수 있습니다.

| 작업 | Owner | Admin | Member | Billing |
|------|:-----:|:-----:|:------:|:-------:|
| 플랜 확인 | ✅ | ✅ | ✅ | ✅ |
| 플랜 변경 | ✅ | - | - | ✅ |
| 결제 정보 수정 | ✅ | - | - | ✅ |
| 청구 내역 조회 | ✅ | - | - | ✅ |

---

## 조직 삭제하기

Organization을 삭제하면 모든 프로젝트, 환경, 데이터가 영구적으로 삭제됩니다.

1. **설정** > **Danger** 탭으로 이동하세요.
2. **조직 삭제** 버튼을 클릭하세요.
3. 경고 메시지를 확인하세요.
4. 확인 입력란에 조직 이름을 정확히 입력하세요.
5. **삭제** 버튼을 클릭하세요.

> ❌ **위험** - 조직 삭제는 되돌릴 수 없습니다. 모든 프로젝트, 환경, 테이블, User, 파일이 영구적으로 삭제됩니다. Owner만 이 작업을 수행할 수 있습니다.

---

## 관련 문서

- [환경 개요](01-environments.md) — 플랜별 환경 제한
- [사용량 분석](06-usage-analytics.md) — 사용량 모니터링
- [팀 멤버 관리](07-team-management.md) — 역할과 권한 관리
