# λ°μ΄ν„° μ•”νΈν™”

{% hint style="info" %}
π’΅ bkendκ°€ λ°μ΄ν„°λ¥Ό λ³΄νΈν•λ” λ‹¤κ³„μΈµ μ•”νΈν™” λ°©μ‹μ„ μ΄ν•΄ν•©λ‹λ‹¤.
{% endhint %}

## κ°μ”

bkendλ” μ „μ†΅ μ¤‘(In Transit)κ³Ό μ €μ¥ μ‹(At Rest) λ¨λ‘ μ•”νΈν™”λ¥Ό μ μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό λ³΄νΈν•©λ‹λ‹¤. μ¶”κ°€λ΅ λ―Όκ° λ°μ΄ν„°μ—λ” μ• ν”λ¦¬μΌ€μ΄μ… λ λ²¨ μ•”νΈν™”λ¥Ό μ μ©ν•©λ‹λ‹¤.

```mermaid
flowchart TD
    A[ν΄λΌμ΄μ–ΈνΈ] -->|TLS 1.2+| B[bkend API]
    B -->|AES-256-GCM| C[μ €μ¥ λ°μ΄ν„°]
    B -->|Argon2id| D[λΉ„λ°€λ²νΈ]
    B -->|SHA-256| E[API ν‚¤]
```

***

## μ „μ†΅ μ•”νΈν™” (In Transit)

λ¨λ“  API ν†µμ‹ μ€ TLS(Transport Layer Security)λ΅ μ•”νΈν™”λ©λ‹λ‹¤.

| ν•­λ© | κ°’ |
|------|-----|
| **ν”„λ΅ν† μ½** | TLS 1.2 μ΄μƒ |
| **λ€μƒ** | λ¨λ“  API μ”μ²­/μ‘λ‹µ |
| **κ°•μ ** | HTTP μ”μ²­μ€ HTTPSλ΅ λ¦¬λ‹¤μ΄λ ‰νΈ |
| **μΈμ¦μ„** | μλ™ κ°±μ‹  |

{% hint style="warning" %}
β οΈ HTTP(`http://`)λ΅ μ”μ²­ν•λ©΄ μλ™μΌλ΅ HTTPS(`https://`)λ΅ λ¦¬λ‹¤μ΄λ ‰νΈλ©λ‹λ‹¤. ν•­μƒ `https://api-client.bkend.ai`λ¥Ό μ‚¬μ©ν•μ„Έμ”.
{% endhint %}

***

## μ €μ¥ μ•”νΈν™” (At Rest)

### λ°μ΄ν„°λ² μ΄μ¤

| κ³„μΈµ | λ°©μ‹ | λ€μƒ |
|------|------|------|
| **μΈν”„λΌ μ•”νΈν™”** | Encryption at Rest | λ¨λ“  μ €μ¥ λ°μ΄ν„° |
| **μ• ν”λ¦¬μΌ€μ΄μ… μ•”νΈν™”** | AES-256-GCM | λ―Όκ°ν• λ‚΄λ¶€ μ„¤μ • λ°μ΄ν„° |

λ°μ΄ν„°λ² μ΄μ¤ μΈν”„λΌλ” λ¨λ“  μ €μ¥ λ°μ΄ν„°λ¥Ό μλ™μΌλ΅ μ•”νΈν™”ν•©λ‹λ‹¤. μ¶”κ°€λ΅ λ―Όκ°ν• λ‚΄λ¶€ μ„¤μ • λ°μ΄ν„°λ” μ• ν”λ¦¬μΌ€μ΄μ… λ λ²¨μ—μ„ AES-256-GCMμΌλ΅ μ΄μ¤‘ μ•”νΈν™”λ©λ‹λ‹¤.

### νμΌ μ¤ν† λ¦¬μ§€

| ν•­λ© | κ°’ |
|------|-----|
| **λ°©μ‹** | μ„λ²„ μΈ΅ μ•”νΈν™” (AES-256) |
| **λ€μƒ** | μ—…λ΅λ“λ λ¨λ“  νμΌ |

***

## λ―Όκ° λ°μ΄ν„° μ²λ¦¬

### λΉ„λ°€λ²νΈ ν•΄μ‹±

μ‚¬μ©μ λΉ„λ°€λ²νΈλ” **Argon2id** μ•κ³ λ¦¬μ¦μΌλ΅ ν•΄μ‹±λ©λ‹λ‹¤. μ›λ³Έ λΉ„λ°€λ²νΈλ” μ €μ¥λμ§€ μ•μµλ‹λ‹¤.

| ν•­λ© | κ°’ |
|------|-----|
| **μ•κ³ λ¦¬μ¦** | Argon2id (OWASP κ¶μ¥ 1μμ„) |
| **κ°•λ„** | OWASP κ¶μ¥ μµμ† κΈ°μ¤€ μ΄μƒ |

{% hint style="info" %}
π’΅ Argon2idλ” OWASP Password Storage Cheat Sheet κ¶μ¥ μ•κ³ λ¦¬μ¦ 1μμ„μ…λ‹λ‹¤. GPU λΈλ£¨νΈν¬μ¤ κ³µκ²©μ— κ°•ν• λ©”λ¨λ¦¬ κΈ°λ° ν•΄μ‹±μ„ μ‚¬μ©ν•λ©°, OWASP κ¶μ¥ μµμ† κΈ°μ¤€μ„ μƒνν•λ” νλΌλ―Έν„°λ΅ κµ¬μ„±λμ–΄ μμµλ‹λ‹¤.
{% endhint %}

### API ν‚¤ ν•΄μ‹±

API ν‚¤λ” **SHA-256** λ‹¨λ°©ν–¥ ν•΄μ‹λ΅ μ €μ¥λ©λ‹λ‹¤.

- ν‚¤λ” **μ•”νΈν•™μ  λ‚μ μƒμ„±κΈ°(CSPRNG)**λ΅ μƒμ„±λ©λ‹λ‹¤
- `pk_` λλ” `sk_` prefixλ΅ ν‚¤ μ ν•μ„ κµ¬λ¶„ν•©λ‹λ‹¤
- μ›λ³Έ ν‚¤λ” **μƒμ„± μ‹ 1νλ§** ν‘μ‹λ©λ‹λ‹¤
- μ„λ²„μ—λ” SHA-256 ν•΄μ‹λ§ μ €μ¥λ©λ‹λ‹¤
- μ”μ²­ μ‹ μ „μ†΅λ ν‚¤λ¥Ό ν•΄μ‹ν•μ—¬ μ €μ¥λ ν•΄μ‹μ™€ λΉ„κµν•©λ‹λ‹¤

### Refresh Token

| ν•­λ© | κ°’ |
|------|-----|
| **μ €μ¥** | μ„Έμ…λ³„ μ €μ¥ |
| **κ°±μ‹ ** | ν† ν° κ°±μ‹  μ‹ μ΄μ „ ν† ν° μ¦‰μ‹ λ¬΄ν¨ν™” |
| **μ¬μ‚¬μ© κ°μ§€** | μ΄λ―Έ μ‚¬μ©λ Refresh Token μ¬μ‚¬μ© μ‹ μ „μ²΄ μ„Έμ… λ¬΄ν¨ν™” |

***

## μ•”νΈν™” κ³„μΈµ μ”μ•½

| λ€μƒ | μ•”νΈν™” λ°©μ‹ | λ‹¨λ°©ν–¥ |
|------|-----------|:------:|
| λ„¤νΈμ›ν¬ ν†µμ‹  | TLS 1.2+ | β€” |
| λ°μ΄ν„°λ² μ΄μ¤ | Encryption at Rest | β€” |
| λ―Όκ°ν• λ‚΄λ¶€ μ„¤μ • λ°μ΄ν„° | AES-256-GCM (Application λ λ²¨) | β€” |
| νμΌ μ¤ν† λ¦¬μ§€ | AES-256 μ„λ²„ μΈ΅ μ•”νΈν™” | β€” |
| λΉ„λ°€λ²νΈ | Argon2id | β… |
| API ν‚¤ | SHA-256 | β… |

***

## λ‹¤μ λ‹¨κ³„

- [λ³΄μ• λ¨λ²” μ‚¬λ΅€](07-best-practices.md) β€” λ³΄μ• κ¶μ¥ μ‚¬ν•­
- [API ν‚¤ μ΄ν•΄](02-api-keys.md) β€” API ν‚¤ λ³΄μ• μƒμ„Έ
- [λ³΄μ• κ°μ”](01-overview.md) β€” μ „μ²΄ λ³΄μ• μ•„ν‚¤ν…μ²
