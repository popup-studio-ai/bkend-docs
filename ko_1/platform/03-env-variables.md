# 환경 변수 관리

> 환경별 설정 값을 관리하는 방법을 안내합니다.

## 개요

bkend는 환경별로 독립된 설정을 제공합니다. 프로젝트 설정에서 각 환경에 맞는 값을 지정할 수 있습니다.

---

## 프로젝트 설정

프로젝트 **설정** 페이지에서 다음 항목을 관리할 수 있습니다.

### 기본 정보

| 설정 | 설명 |
|------|------|
| **Project ID** | 프로젝트 고유 식별자 (변경 불가, 복사 가능) |
| **Slug** | URL에 사용되는 고유 문자열 (변경 불가) |
| **Name** | 프로젝트 이름 (수정 가능) |
| **Description** | 프로젝트 설명 (수정 가능) |
| **Cloud** | 클라우드 제공자 (AWS, GCP 등) |
| **Region** | 배포 리전 (예: ap-northeast-2) |
| **생성일** | 프로젝트 생성 날짜 |

> 💡 **Tip** - Project ID와 Slug 옆의 복사 버튼을 클릭하면 클립보드에 복사됩니다.

---

## API 설정

### CORS (Cross-Origin Resource Sharing)

`allowedOrigins`에 등록된 도메인만 API에 접근할 수 있습니다.

| 설정 | 설명 |
|------|------|
| `allowedOrigins` | API 접근을 허용할 도메인 목록 |

- 빈 배열(`[]`)은 모든 도메인을 차단합니다.
- 와일드카드(`*`)는 개발 환경에서만 사용하세요.

```json
{
  "allowedOrigins": [
    "https://myapp.com",
    "https://staging.myapp.com"
  ]
}
```

### API 호출 제한

| 설정 | 설명 |
|------|------|
| `apiCallLimit` | 일별 API 호출 한도 |

- 한도를 초과하면 `429 Too Many Requests` 에러가 반환됩니다.
- 일별 자정(UTC)에 카운터가 초기화됩니다.

### IP 화이트리스트

| 설정 | 설명 |
|------|------|
| `ipWhitelist` | API 접근을 허용할 IP 목록 |

- 빈 배열이면 모든 IP에서 접근 가능합니다.
- 프로덕션 환경에서는 서버 IP만 등록하는 것을 권장합니다.

### 알림 설정

| 설정 | 설명 |
|------|------|
| `webhookUrl` | 이벤트 발생 시 알림을 보낼 Webhook URL |
| `notificationEmail` | 알림을 수신할 이메일 주소 |

---

## 환경별 독립 데이터

각 환경은 다음 데이터를 독립적으로 관리합니다.

| 데이터 | 환경 간 공유 | 설명 |
|--------|:---------:|------|
| 테이블 스키마 | ❌ | 환경별 독립 스키마 |
| 테이블 데이터 | ❌ | 환경별 독립 데이터 |
| User | ❌ | 환경별 독립 User 풀 |
| API Key | ❌ | 환경별 독립 Key |
| 파일 | ❌ | 환경별 독립 저장소 경로 |
| 프로젝트 설정 | ✅ | 모든 환경에서 공유 |
| 팀 멤버 | ✅ | Organization 단위로 공유 |

---

## 프로젝트 설정 수정하기

1. 콘솔에서 프로젝트의 **Settings** 메뉴로 이동하세요.
2. 수정할 항목의 값을 변경하세요.
3. **저장** 버튼을 클릭하세요.

> ⚠️ **주의** - 프로젝트 설정 수정은 Owner 또는 Admin 역할만 가능합니다.

---

## 프로젝트 삭제하기

프로젝트를 삭제하면 모든 환경과 데이터가 영구적으로 삭제됩니다.

1. 프로젝트 **Settings** 페이지 하단의 **Danger Zone**으로 이동하세요.
2. **프로젝트 삭제** 버튼을 클릭하세요.
3. 확인 대화상자에서 프로젝트 이름을 입력하세요.
4. **삭제**를 클릭하세요.

> ❌ **위험** - 프로젝트 삭제는 되돌릴 수 없습니다. 모든 환경, 테이블, User, 파일이 영구적으로 삭제됩니다. Owner만 이 작업을 수행할 수 있습니다.

---

## 관련 문서

- [환경 개요](01-environments.md) — 환경 타입과 특징
- [배포 가이드](04-deployment.md) — 환경 생성과 배포
- [보안 모범 사례](../security/09-best-practices.md) — 환경 분리 권장사항
