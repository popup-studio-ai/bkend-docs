# 보안 모범 사례

> bkend를 안전하게 사용하기 위한 보안 권장사항을 안내합니다.

## API Key 관리

| 권장사항 | 설명 |
|---------|------|
| 서버 사이드에서만 사용 | API Key를 클라이언트 코드에 포함하지 마세요 |
| 환경 변수 사용 | 소스 코드 대신 환경 변수로 관리하세요 |
| 최소 권한 원칙 | 필요한 최소한의 스코프만 부여하세요 |
| 주기적 교체 | 만료 시간을 설정하고 주기적으로 교체하세요 |
| 미사용 키 폐기 | 사용하지 않는 API Key는 즉시 폐기하세요 |

---

## 인증 보안

| 권장사항 | 설명 |
|---------|------|
| HTTPS 강제 | 모든 API 통신에 HTTPS를 사용하세요 |
| 토큰 안전 저장 | 브라우저: HttpOnly Cookie, 모바일: Secure Storage |
| 토큰 노출 금지 | URL, 로그, 소스 코드에 토큰을 포함하지 마세요 |
| Refresh Token 관리 | 갱신 시 발급받은 새 토큰을 즉시 저장하세요 |
| 2FA 활성화 | 가능하면 2단계 인증을 활성화하세요 |

---

## 데이터 접근 제어

| 권장사항 | 설명 |
|---------|------|
| 테이블별 권한 설정 | 각 테이블에 적절한 CRUD 권한을 설정하세요 |
| self 권한 활용 | 개인 데이터는 self 권한으로 보호하세요 |
| guest 최소화 | guest 그룹에는 읽기 권한만 부여하세요 |
| 시스템 테이블 보호 | `_` 접두사 테이블의 접근을 제한하세요 |

---

## 파일 보안

| 권장사항 | 설명 |
|---------|------|
| 기본 private | 민감한 파일은 기본 `private`으로 업로드하세요 |
| Presigned URL 주의 | 임시 URL도 유효 기간 내 접근 가능합니다 |
| public 파일 검토 | CDN URL은 만료되지 않으므로 민감한 파일에 사용하지 마세요 |

---

## 팀 관리

| 권장사항 | 설명 |
|---------|------|
| 역할 최소화 | 필요한 최소 역할만 부여하세요 |
| 정기 점검 | 팀 멤버 목록을 정기적으로 검토하세요 |
| 퇴사 처리 | 팀을 떠난 멤버는 즉시 제거하세요 |
| 감사 로그 확인 | 비정상적인 활동을 주기적으로 확인하세요 |

---

## 환경 분리

| 권장사항 | 설명 |
|---------|------|
| dev/prod 분리 | 개발 환경과 프로덕션 환경을 분리하세요 |
| 환경별 API Key | 각 환경에 별도의 API Key를 사용하세요 |
| 프로덕션 주의 | 프로덕션 환경에서는 특히 신중하게 작업하세요 |

---

## 관련 문서

- [보안 개요](01-overview.md) — 보안 모델 소개
- [API Key 관리](02-api-keys.md) — API Key 생성과 관리
- [RLS 개요](05-rls-overview.md) — Row Level Security
- [감사 로그](08-audit-logs.md) — 감사 로그 조회
