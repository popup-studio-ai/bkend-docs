# ì„±ëŠ¥ ìµœì í™”

{% hint style="info" %}
ğŸ’¡ bkend í”„ë¡œì íŠ¸ì˜ ì„±ëŠ¥ì„ ìµœì í™”í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤.
{% endhint %}

## ê°œìš”

bkend í”„ë¡œì íŠ¸ì˜ ì„±ëŠ¥ì„ ìµœì í™”í•˜ë ¤ë©´ ì¸ë±ìŠ¤ ê´€ë¦¬, ì¿¼ë¦¬ ìµœì í™”, íŒŒì¼ ì €ì¥ì†Œ í™œìš©, API í˜¸ì¶œ íš¨ìœ¨í™” ë“±ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

***

## ì¸ë±ìŠ¤ ê´€ë¦¬

### ê¸°ë³¸ ì¸ë±ìŠ¤

bkendëŠ” í…Œì´ë¸” ìƒì„± ì‹œ ë‹¤ìŒ ì¸ë±ìŠ¤ë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤.

| ì¸ë±ìŠ¤ ì´ë¦„ | í•„ë“œ | ì •ë ¬ | ì„¤ëª… |
|-----------|------|------|------|
| `_id_` | `_id` | ì˜¤ë¦„ì°¨ìˆœ | ê¸°ë³¸ í‚¤ ì¸ë±ìŠ¤ (ì‹œìŠ¤í…œ) |
| `idx_createdAt_desc` | `createdAt` | ë‚´ë¦¼ì°¨ìˆœ | ìƒì„±ì¼ ì •ë ¬ |
| `idx_updatedAt_desc` | `updatedAt` | ë‚´ë¦¼ì°¨ìˆœ | ìˆ˜ì •ì¼ ì •ë ¬ |
| `idx_createdBy` | `createdBy` | ì˜¤ë¦„ì°¨ìˆœ | ì‘ì„±ì í•„í„°ë§ |

{% hint style="warning" %}
âš ï¸ ê¸°ë³¸ ì¸ë±ìŠ¤ì™€ ì‹œìŠ¤í…œ ì¸ë±ìŠ¤(`_id_`)ëŠ” ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
{% endhint %}

### ì»¤ìŠ¤í…€ ì¸ë±ìŠ¤ ì¶”ê°€í•˜ê¸°

ìì£¼ ì¡°íšŒí•˜ëŠ” í•„ë“œì— ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•˜ë©´ ì¿¼ë¦¬ ì„±ëŠ¥ì´ í¬ê²Œ í–¥ìƒë©ë‹ˆë‹¤.

```json
{
  "name": "idx_status_createdAt",
  "fields": {
    "status": 1,
    "createdAt": -1
  }
}
```

### ì¸ë±ìŠ¤ ìœ í˜•

| ìœ í˜• | ì„¤ëª… | ì‚¬ìš© ì˜ˆì‹œ |
|------|------|----------|
| **ë‹¨ì¼ í•„ë“œ** | í•˜ë‚˜ì˜ í•„ë“œì— ëŒ€í•œ ì¸ë±ìŠ¤ | `{ "email": 1 }` |
| **ë³µí•© ì¸ë±ìŠ¤** | ì—¬ëŸ¬ í•„ë“œë¥¼ ì¡°í•©í•œ ì¸ë±ìŠ¤ | `{ "status": 1, "createdAt": -1 }` |
| **Unique** | ì¤‘ë³µ ê°’ ë°©ì§€ | ì´ë©”ì¼, ìŠ¬ëŸ¬ê·¸ ë“± |
| **Sparse** | null ê°’ì„ ì œì™¸í•œ ì¸ë±ìŠ¤ | ì„ íƒì  í•„ë“œ |

ì¸ë±ìŠ¤ ê´€ë¦¬ëŠ” **ì½˜ì†”** ë˜ëŠ” **MCP ë„êµ¬**ì—ì„œ ì„¤ì •í•˜ì„¸ìš”.

â†’ [ì¸ë±ìŠ¤ ê´€ë¦¬ (ì½˜ì†”)](../console/09-index-management.md), [í…Œì´ë¸” ê´€ë¦¬ ë„êµ¬](../mcp/04-table-tools.md)

***

## ì¿¼ë¦¬ ìµœì í™”

### ì¸ë±ìŠ¤ëœ í•„ë“œë¡œ í•„í„°ë§í•˜ê¸°

ì¸ë±ìŠ¤ê°€ ìˆëŠ” í•„ë“œë¥¼ ìš°ì„ ì ìœ¼ë¡œ í•„í„° ì¡°ê±´ì— ì‚¬ìš©í•˜ì„¸ìš”.

```bash
# âœ… ì¢‹ì€ ì˜ˆ â€” ì¸ë±ìŠ¤ëœ í•„ë“œë¡œ í•„í„°ë§
curl -X GET "https://api-client.bkend.ai/v1/data/posts?andFilters=%7B%22status%22%3A%22published%22%7D&sortBy=createdAt&sortDirection=desc&limit=20" \
  -H "X-API-Key: {pk_publishable_key}" \
  -H "Authorization: Bearer {accessToken}"
```

### í˜ì´ì§€ë„¤ì´ì…˜ í™œìš©í•˜ê¸°

ëŒ€ëŸ‰ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•ŒëŠ” ë°˜ë“œì‹œ `page`ì™€ `limit`ì„ ì‚¬ìš©í•˜ì„¸ìš”.

| íŒŒë¼ë¯¸í„° | ì„¤ëª… | ê¶Œì¥ê°’ |
|---------|------|:-----:|
| `page` | í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘) | 1, 2, 3, ... |
| `limit` | í•œ ë²ˆì— ì¡°íšŒí•  ë ˆì½”ë“œ ìˆ˜ | 10~50 |

```javascript
// í˜ì´ì§€ë„¤ì´ì…˜
const page = 1;
const limit = 20;

const response = await fetch(
  `https://api-client.bkend.ai/v1/data/posts?page=${page}&limit=${limit}`,
  {
    headers: {
      'X-API-Key': '{pk_publishable_key}',
      'Authorization': `Bearer ${accessToken}`,
    },
  }
);
```

### í•„ë“œ ì„ íƒí•˜ê¸°

í•„ìš”í•œ í•„ë“œë§Œ ì„ íƒí•˜ì—¬ ì‘ë‹µ í¬ê¸°ë¥¼ ì¤„ì´ì„¸ìš”.

```bash
# í•„ìš”í•œ í•„ë“œë§Œ ì¡°íšŒ
curl -X GET "https://api-client.bkend.ai/v1/data/posts?select=title,status,createdAt" \
  -H "X-API-Key: {pk_publishable_key}" \
  -H "Authorization: Bearer {accessToken}"
```

***

## íŒŒì¼ ì €ì¥ì†Œ ìµœì í™”

### íŒŒì¼ í¬ê¸° ìµœì í™”

| íŒŒì¼ ìœ í˜• | ê¶Œì¥ì‚¬í•­ |
|----------|---------|
| **ì´ë¯¸ì§€** | ì—…ë¡œë“œ ì „ ì••ì¶•, WebP í˜•ì‹ ì‚¬ìš© |
| **ë¬¸ì„œ** | í•„ìš”í•œ í˜•ì‹ë§Œ ì €ì¥, PDF ì••ì¶• |
| **ëŒ€ìš©ëŸ‰ íŒŒì¼** | ë©€í‹°íŒŒíŠ¸ ì—…ë¡œë“œ í™œìš© |

### CDN í™œìš©

| ì ‘ê·¼ ë°©ì‹ | ì‘ë‹µ ì†ë„ | ë§Œë£Œ | ì í•© |
|----------|:--------:|:----:|------|
| **CDN** (public) | ë¹ ë¦„ | ì—†ìŒ | í”„ë¡œí•„ ì´ë¯¸ì§€, ì •ì  íŒŒì¼ |
| **Presigned URL** (private) | ë³´í†µ | ìœ íš¨ ê¸°ê°„ | ë¯¼ê°í•œ íŒŒì¼ |

{% hint style="info" %}
ğŸ’¡ ìì£¼ ì ‘ê·¼í•˜ëŠ” ë¹„ë¯¼ê° íŒŒì¼ì€ `public`ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ CDNì˜ ì´ì ì„ í™œìš©í•˜ì„¸ìš”.
{% endhint %}

***

## API í˜¸ì¶œ ìµœì í™”

### ë°°ì¹˜ ì²˜ë¦¬

ì—¬ëŸ¬ ë ˆì½”ë“œë¥¼ í•œ ë²ˆì— ì²˜ë¦¬í•˜ë©´ API í˜¸ì¶œ íšŸìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
// âŒ ë‚˜ìœ ì˜ˆ â€” ê°œë³„ ì‚½ì… (Në²ˆ í˜¸ì¶œ)
for (const item of items) {
  await fetch('https://api-client.bkend.ai/v1/data/posts', {
    method: 'POST',
    headers: { /* ... */ },
    body: JSON.stringify(item),
  });
}

// âœ… ì¢‹ì€ ì˜ˆ â€” ë°°ì¹˜ ì‚½ì… (1ë²ˆ í˜¸ì¶œ)
await fetch('https://api-client.bkend.ai/v1/data/posts', {
  method: 'POST',
  headers: { /* ... */ },
  body: JSON.stringify(items), // ë°°ì—´ë¡œ ì „ë‹¬
});
```

### í´ë¼ì´ì–¸íŠ¸ ìºì‹±

ìì£¼ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ë°ì´í„°ëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìºì‹±í•˜ì„¸ìš”.

```javascript
const cache = new Map();

async function fetchWithCache(url, options, ttl = 60000) {
  const cached = cache.get(url);
  if (cached && cached.expiry > Date.now()) {
    return cached.data;
  }

  const response = await fetch(url, options);
  const data = await response.json();
  cache.set(url, { data, expiry: Date.now() + ttl });
  return data;
}
```

***

## ì„±ëŠ¥ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ìì£¼ í•„í„°ë§í•˜ëŠ” í•„ë“œì— ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í–ˆëŠ”ì§€ í™•ì¸
- [ ] í˜ì´ì§€ë„¤ì´ì…˜ì„ ì ìš©í–ˆëŠ”ì§€ í™•ì¸
- [ ] ë¶ˆí•„ìš”í•œ í•„ë“œë¥¼ ì œì™¸í•˜ê³  ì¡°íšŒí•˜ëŠ”ì§€ í™•ì¸
- [ ] public íŒŒì¼ì— CDNì„ í™œìš©í•˜ëŠ”ì§€ í™•ì¸
- [ ] ë°°ì¹˜ ì²˜ë¦¬ë¡œ API í˜¸ì¶œì„ ìµœì†Œí™”í–ˆëŠ”ì§€ í™•ì¸
- [ ] í´ë¼ì´ì–¸íŠ¸ ìºì‹±ì„ ì ìš©í–ˆëŠ”ì§€ í™•ì¸

***

## ë‹¤ìŒ ë‹¨ê³„

- [í•„í„°ë§](../database/08-filtering.md) â€” íš¨ìœ¨ì ì¸ ì¿¼ë¦¬ ì‘ì„±
- [ì •ë ¬ & í˜ì´ì§€ë„¤ì´ì…˜](../database/09-sorting-pagination.md) â€” í˜ì´ì§€ë„¤ì´ì…˜ í™œìš©
- [íŒŒì¼ ì—…ë¡œë“œ](../storage/02-upload-single.md) â€” íŒŒì¼ ì—…ë¡œë“œ ìµœì í™”
